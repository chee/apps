<!doctype html>
<html lang="en-ca" theme="cherries">
	<meta charset="utf-8">
	<title>deluge party</title>
	<meta name="description" content="create deluge kit">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="drum.css">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="application-name" content="bento">
	<meta name="apple-mobile-web-app-title" content="bento">
	<meta name="theme-color" content="#ffe9ed">
	<meta property="og:title" content="deluge party">
	<meta property="og:description" content="for synthstrom deluge">
	<meta property="og:image" content="/aux/apple-touch-icon.png">
	<meta name="twitter:card" content="summary">
	<link rel="apple-touch-icon" href="/aux/apple-touch-icon.png">
	<link rel="manifest" href="/aux/app.webmanifest">

	<deluge-kit>
		<template shadowrootmode="open">
			<h1>deluge kit creator</h1>
			<header>
				<label>
					<input type="text" value="new kit" id="name">
				</label>
				<deluge-button id="add" label="+ add"></deluge-button>
				<deluge-button id="download" label="download zip"></deluge-button>
			</header>

			<deluge-sources></deluge-sources>

			<style>
				h1 {
					margin: 0;
					font-size: 1rem;
				}
				header {
					display: flex;
					align-items: end;
					gap: 1em;
				}

				.row {
					margin-top: 1rem;
					display: flex;
					gap: 0.5rem;
				}

				#add {
					margin-top: 1rem;
				}

				#name {
					display: block;
				}

				deluge-sources {
					display: flex;
					flex-direction: column;
				}
			</style>
		</template>
	</deluge-kit>

	<template id="sound">
		<deluge-sound class="row">
			<template shadowrootmode="open">
				<div class="arrows">
					<button id="up" label="move up">â†‘</button>
					<button id="down" label="move down">â†“</button>
				</div>
				<select id="loop-mode" label="loop mode">
					<option value="cut">cut</option>
					<option value="once">once</option>
					<option value="loop">loop</option>
				</select>
				<button id="kill" label="delete sound">ðŸ—‘</button>
				<input id="name" type="text">
				<deluge-button id="browse" label="browse"></deluge-button>
				<deluge-button id="audition" label="audition"></deluge-button>

				<style>
					.arrows {
						display: flex;
						flex-direction: column;
						gap: 4px;
					}

					.arrows button {
						height: 1rem;
						width: 1rem;
						padding: 0;
						box-shadow: none;
						border: none;
					}
					label {
						display: flex;
						flex-direction: column;
						font-size: 0.5em;
					}
					label select {
						padding: 0.25rem;
						margin-top: 5px;
					}
				</style>
			</template>
		</deluge-sound>
	</template>

	<style id="global-styles">
		button, select {
			cursor: pointer;
			word-wrap: anywhere;
			border: 1px solid var(--line);
			background: var(--offset);
			border-radius: var(--button-border-px);
			font-weight: bold;
			padding: 1em;
			box-shadow: var(--shadow-px) var(--shadow-px) var(--shadow);
			font-weight: bold;
			font-family: qp, monospace;
		}

		button:hover, 	select:hover {
			box-shadow: var(--heavy-shadow-px) var(--heavy-shadow-px) var(--heavy-shadow);
		}

		button:active, select:active {
			box-shadow: inset var(--shadow-px) var(--shadow-px) rgba(0, 0, 0, 0.2);
		}

		input {
			padding: 1em;
		}

		input[type="text"] {
			border: 1px solid;
			box-shadow: var(--shadow-px) var(--shadow-px) var(--shadow);
		}

		input[type="text"]:focus {
			box-shadow: var(--heavy-shadow-px) var(--heavy-shadow-px) var(--heavy-shadow);
			outline: 1px solid var(--green);
		}

		label {
			margin-top: 1rem;
		}

		label > input {
			margin-top: 0.2rem;
		}
		#download {
			background: var(--greem);
		}
	</style>

	<audio
		class="iphone-silence"
		src="/aux/iphone-silence.flac"
		loop
		autoplay
		preload="auto">
	</audio>

	<script type="module" src="drum.js"></script>
